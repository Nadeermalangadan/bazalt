{"version":3,"file":"build/bz-lite.js","sources":["bz-lite.src.js"],"names":["define","angular","module","app","factory","$injector","retryHttpRequest","config","deferred","successCallback","response","resolve","errorCallback","reject","$http","get","then","buffer","append","push","retryAll","updater","i","length","$rootScope","$q","httpBuffer","success","error","status","ignoreAuthModule","defer","$broadcast","promise","$on","$window","$cookieStore","setItem","key","value","localStorage","put","getItem","request","token","headers","isDefined","Authorization","when","setToken","$httpProvider","interceptors","provider","options","api","templatePrefix","languages","checkSessionOnStart","errorTemplates",403,404,"this","errorResolver","template","controller","$scope","templateUrl","url","window","bazalt","extend","$get","$log","debug","self","resource","$locale","$language","id","substring","oldLang","indexOf","Error","$emit","$resource","jwtInterceptor","$session","sessionObject","renew","method","changeRole","params","action","$login","$logout","guestData","is_guest","permissions","prototype","data","callback","result","$set","noop","copy","undefined","oldSession","notify","user","old","$update","$renew","$change","$changeRole","roleId","role_id","has","permission","isArray","diff","jwt_token","info","Array","filter","arr","count","obj","fromIndex","Math","max","j","a","access","permissionsSet","arguments","$user","allowed","message","$config","directive","restrict","compile","scope","element","attr","href","bzLangIgnore","e","newLang","replace","link","attrs","loadingLayer","document","createElement","addClass","$watch","bzLoadingContainer","toggleClass","default","small","medium","large","landscape","portrait","retina","presetMediaQueries","$timeout","$parse","priority","ngSrc","thumbnails","presets","elm","updateFromQuery","querySets","waiting","forEach","listenerSets","set","mql","removeListener","listener","lastTrueQuerySet","query","hasOwnProperty","mq","matchMedia","matches","queryListener","addListener","console","image","updaterDereg","isObject","isFunction","string","translateBundle","$localeBundle","bzLanguage","language","orig","status403interceptor","defaults","withCredentials","responseInterceptors","run","$location","$route","$routeSegment","olduser","newuser","equals","reload","langs","pos","preventDefault"],"mappings":"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"}